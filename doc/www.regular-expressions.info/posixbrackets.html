<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<HTML><HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8">
<TITLE>Regex Tutorial - POSIX Bracket Expressions</TITLE>
<script src="regex.js" type="text/javascript"></script>
<link rel="alternate" type="application/rss+xml" title="Regex Guru" href="http://www.regexguru.com/feed/">
<META NAME="Author" CONTENT="Jan Goyvaerts">
<META NAME="Description" CONTENT="In a regular expression, POSIX bracket expressions can be used to match one of a certain kind of characters.">
<META NAME="Keywords" CONTENT="">
<LINK REL=StyleSheet HREF="regex.css" TYPE="text/css">
</HEAD>
<BODY BGCOLOR=white TEXT=black>
<script type="text/javascript">window.onresize = movecontent;</script>
<DIV id=top><DIV id=logo><IMG SRC="img/logo.gif" WIDTH=530 HEIGHT=100></DIV></DIV>
<div id=btntop><table align=center cellspacing=0 cellpadding=0 border=0><tr><td><a href="tutorial.html" target="_top"><div onmouseover="this.style.backgroundColor='#33A000';this.style.backgroundImage='url(img/btnhot.gif)';" onmouseout="this.style.backgroundColor='#A03300';this.style.backgroundImage='url(img/btn.gif)';return false;">Tutorial</div></a></td><td><a href="tools.html" target="_top"><div onmouseover="this.style.backgroundColor='#33A000';this.style.backgroundImage='url(img/btnhot.gif)';" onmouseout="this.style.backgroundColor='#A03300';this.style.backgroundImage='url(img/btn.gif)';return false;">Tools&nbsp;&amp;&nbsp;Languages</div></a></td><td><a href="examples.html" target="_top"><div onmouseover="this.style.backgroundColor='#33A000';this.style.backgroundImage='url(img/btnhot.gif)';" onmouseout="this.style.backgroundColor='#A03300';this.style.backgroundImage='url(img/btn.gif)';return false;">Examples</div></a></td><td><a href="books.html" target="_top"><div onmouseover="this.style.backgroundColor='#33A000';this.style.backgroundImage='url(img/btnhot.gif)';" onmouseout="this.style.backgroundColor='#A03300';this.style.backgroundImage='url(img/btn.gif)';return false;">Books&nbsp;&amp;&nbsp;Reference</div></a></td></tr></table></div>
<DIV id=bodytext>
<script type="text/javascript">movecontent();</script>
<TABLE CLASS=topad> <TR><TD VALIGN=top><A HREF="http://www.regexbuddy.com/create.html" TARGET="_top"><IMG SRC="img/regexbuddyad.png" width=203 height=145 ALT="RegexBuddy" BORDER=0></A></TD> <TD CLASS=topad><B><A HREF="http://www.regexbuddy.com/create.html" TARGET="_top">Easily create and understand regular expressions today</A>.</B><BR> Compose and analyze regex patterns with RegexBuddy's easy-to-grasp regex blocks and intuitive regex tree, instead of or in combination with the traditional regex syntax. Developed by the author of this website, RegexBuddy makes learning and using regular expressions easier than ever. <A HREF="http://www.regexbuddy.com/">Get your own copy of RegexBuddy now</A></TD> </TR></TABLE>  <H1>POSIX Bracket Expressions</H1> <p>POSIX bracket expressions are a special kind of <A HREF="charclass.html" TARGET="_top">character classes</A>. POSIX bracket expressions match one character out of a set of characters, just like regular character classes. They use the same syntax with square brackets. A hyphen creates a range, and a caret at the start negates the bracket expression.</p> <p>One key syntactic difference is that the backslash is NOT a metacharacter in a POSIX bracket expression. So in POSIX, the regular expression <tt class=regex>[\d]</tt> matches a <tt class=match>\</tt> or a <tt class=match>d</tt>. To match a <tt class=match>]</tt>, put it as the first character after the opening <tt>[</tt> or the negating <tt>^</tt>. To match a <tt class=match>-</tt>, put it right before the closing <tt>]</tt>. To match a <tt class=match>^</tt>, put it before the final literal <tt>-</tt> or the closing <tt>]</tt>. Put together, <tt class=regex>[]\d^-]</tt> matches <tt class=match>]</tt>, <tt class=match>\</tt>, <tt class=match>d</tt>, <tt class=match>^</tt> or <tt class=match>-</tt>.</p> <p>The main purpose of the bracket expressions is that they adapt to the user's or application's locale. A locale is a collection of rules and settings that describe language and cultural conventions, like sort order, date format, etc. The POSIX standard also defines these locales.</p> <p>Generally, only <A HREF="posix.html" TARGET="_top">POSIX-compliant regular expression engines</A> have proper and full support for POSIX bracket expressions. Some non-POSIX regex engines support POSIX character classes, but usually don't support collating sequences and character equivalents. Regular expression engines that support <A HREF="unicode.html" TARGET="_top">Unicode</A> use Unicode properties and scripts to provide functionality similar to POSIX bracket expressions. In Unicode regex engines, <a href="charclass.html#shorthand">shorthand character classes</a> like <tt class=regex>\w</tt> normally match all relevant Unicode characters, alleviating the need to use locales.</p> <a name="class"></a><script type="text/javascript"><!--
google_ad_client = "pub-7485249680256358";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "FF6600";
google_color_bg = "FFF4E8";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "803300";
google_ui_features = "rc:0";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script><h2>Character Classes</h2> <p>Don't confuse the POSIX term "character class" with what is normally called a <A HREF="charclass.html" TARGET="_top">regular expression character class</A>. <tt class=regex>[x-z0-9]</tt> is an example of what we call a "character class" and POSIX calls a "bracket expression". <tt>[:digit:]</tt> is a POSIX character class, used inside a bracket expression like <tt class=regex>[x-z[:digit:]]</tt>. These two regular expressions match exactly the same: a single character that is either <tt class=match>x</tt>, <tt class=match>y</tt>, <tt class=match>z</tt> or a digit. The class names must be written all lowercase.</p> <p>POSIX bracket expressions can be negated. <tt class=regex>[^x-z[:digit:]]</tt> matches a single character that is not x, y, z or a digit. A major difference between POSIX bracket expressions and the character classes in other regex flavors is that POSIX bracket expressions treat the backslash as a literal character. This means you can't use backslashes to escape the closing bracket (]), the caret (^) and the hyphen (-). To include a caret, place it anywhere except right after the opening bracket. <TT CLASS=regex>[x^]</TT> matches an x or a caret. You can put the closing bracket right after the opening bracket, or the negating caret. <TT CLASS=regex>[]x]</TT> matches a closing bracket or an x. <TT CLASS=regex>[^]x]</TT> matches any character that is not a closing bracket or an x. The hyphen can be included right after the opening bracket, or right before the closing bracket, or right after the negating caret. Both <TT CLASS=regex>[-x]</TT> and <TT CLASS=regex>[x-]</TT> match an x or a hyphen.</p> <p>Exactly which POSIX character classes are available depends on the POSIX locale. The following are usually supported, often also by regex engines that don't support POSIX itself. I've also indicated equivalent character classes that you can use in ASCII and <A HREF="unicode.html" TARGET="_top">Unicode</A> regular expressions if the POSIX classes are unavailable. Some classes also have Perl-style <a href="charclass.html#shorthand">shorthand</a> equivalents.</p> <p><A HREF="java.html" TARGET="_top">Java</A> does not support POSIX bracket expressions, but does support POSIX character classes using the <tt>\p</tt> operator. Though the <tt>\p</tt> syntax is borrowed from the syntax for <A HREF="unicode.html" TARGET="_top">Unicode properties</A>, the POSIX classes in Java only match ASCII characters as indicated below. The class names are case sensitive. Unlike the POSIX syntax which can only be used inside a bracket expression, Java's <tt>\p</tt> can be used inside and outside bracket expressions.</p> <table BORDER=1 CELLSPACING=0 CELLPADDING=4 CLASS=body> <tr><th>POSIX</th><th>Description</th><th>ASCII</th><th>Unicode</th><th>Shorthand</th><th>Java</th></tr> <tr><td><tt class=regex>[:alnum:]</tt></td> <td>Alphanumeric characters</td> <td><tt class=regex>[a-zA-Z0-9]</tt></td> <td><tt class=regex>[\p{L&}\p{Nd}]</tt></td> <td>&nbsp;</td> <td><tt class=regex>\p{Alnum}</tt></td></tr> <tr><td><tt class=regex>[:alpha:]</tt></td> <td>Alphabetic characters</td> <td><tt class=regex>[a-zA-Z]</tt></td> <td><tt class=regex>\p{L&}</tt></td> <td>&nbsp;</td> <td><tt class=regex>\p{Alpha}</tt></td></tr> <tr><td><tt class=regex>[:ascii:]</tt></td> <td>ASCII characters</td> <td><tt class=regex>[\x00-\x7F]</tt></td> <td><tt class=regex>\p{InBasicLatin}</tt></td> <td>&nbsp;</td> <td><tt class=regex>\p{ASCII}</tt></td></tr> <tr><td><tt class=regex>[:blank:]</tt></td> <td>Space and tab</td> <td><tt class=regex>[ \t]</tt></td> <td><tt class=regex>[\p{Zs}\t]</tt></td> <td>&nbsp;</td> <td><tt class=regex>\p{Blank}</tt></td></tr> <tr><td><tt class=regex>[:cntrl:]</tt></td> <td>Control characters</td> <td><tt class=regex>[\x00-\x1F\x7F]</tt></td> <td><tt class=regex>\p{Cc}</tt></td> <td>&nbsp;</td> <td><tt class=regex>\p{Cntrl}</tt></td></tr> <tr><td><tt class=regex>[:digit:]</tt></td> <td>Digits</td> <td><tt class=regex>[0-9]</tt></td> <td><tt class=regex>\p{Nd}</tt></td> <td><tt class=regex>\d</tt></td> <td><tt class=regex>\p{Digit}</tt></td></tr> <tr><td><tt class=regex>[:graph:]</tt></td> <td>Visible characters (i.e. anything except spaces, control characters, etc.)</td> <td><tt class=regex>[\x21-\x7E]</tt></td> <td><tt class=regex>[^\p{Z}\p{C}]</tt></td> <td>&nbsp;</td> <td><tt class=regex>\p{Graph}</tt></td></tr> <tr><td><tt class=regex>[:lower:]</tt></td> <td>Lowercase letters</td> <td><tt class=regex>[a-z]</tt></td> <td><tt class=regex>\p{Ll}</tt></td> <td>&nbsp;</td> <td><tt class=regex>\p{Lower}</tt></td></tr> <tr><td><tt class=regex>[:print:]</tt></td> <td>Visible characters and spaces (i.e. anything except control characters, etc.)</td> <td><tt class=regex>[\x20-\x7E]</tt></td> <td><tt class=regex>\P{C}</tt></td> <td>&nbsp;</td> <td><tt class=regex>\p{Print}</tt></td></tr> <tr><td><tt class=regex>[:punct:]</tt></td> <td>Punctuation and symbols.</td> <td><tt class=regex>[!"#$%&'()*+,\-./:;&lt;=&gt;?@[\\\]^_`{|}~]</tt></td> <td><tt class=regex>[\p{P}\p{S}]</tt></td> <td>&nbsp;</td> <td><tt class=regex>\p{Punct}</tt></td></tr> <tr><td><tt class=regex>[:space:]</tt></td> <td>All whitespace characters, including line breaks</td> <td><tt class=regex>[ \t\r\n\v\f]</tt></td> <td><tt class=regex>[\p{Z}\t\r\n\v\f]</tt></td> <td><tt class=regex>\s</tt></td> <td><tt class=regex>\p{Space}</tt></td></tr> <tr><td><tt class=regex>[:upper:]</tt></td> <td>Uppercase letters</td> <td><tt class=regex>[A-Z]</tt></td> <td><tt class=regex>\p{Lu}</tt></td> <td>&nbsp;</td> <td><tt class=regex>\p{Upper}</tt></td></tr> <tr><td><tt class=regex>[:word:]</tt></td> <td>Word characters (letters, numbers and underscores)</td> <td><tt class=regex>[A-Za-z0-9_]</tt></td> <td><tt class=regex>[\p{L}\p{N}\p{Pc}]</tt></td> <td><tt class=regex>\w</tt></td> <td>&nbsp;</td></tr> <tr><td><tt class=regex>[:xdigit:]</tt></td> <td>Hexadecimal digits</td> <td><tt class=regex>[A-Fa-f0-9]</tt></td> <td><tt class=regex>[A-Fa-f0-9]</tt></td> <td>&nbsp;</td> <td><tt class=regex>\p{XDigit}</tt></td></tr> </table> <a name="coll"></a><h2>Collating Sequences</h2> <p>A POSIX locale can have collating sequences to describe how certain characters or groups of characters should be ordered. E.g. in Spanish, <tt class=string>ll</tt> like in <tt class=string>tortilla</tt> is treated as one character, and is ordered between <tt class=string>l</tt> and <tt class=string>m</tt> in the alphabet. You can use the collating sequence element <tt>[.span-ll.]</tt> inside a bracket expression to match <tt class=match>ll</tt>. E.g. the regex <tt class=regex>torti[[.span-ll.]]a</tt> matches <tt class=match>tortilla</tt>. Notice the double square brackets. One pair for the bracket expression, and one pair for the collating sequence.</p> <p>I do not know of any regular expression engine that support collating sequences, other than POSIX-compliant engines part of a POSIX-compliant system.</p> <p>Note that a fully POSIX-compliant regex engine will treat <tt class=string>ll</tt> as a single character when the locale is set to Spanish. This means that <tt class=regex>torti[^x]a</tt> also matches <tt class=match>tortilla</tt>. <tt class=regex>[^x]</tt> matches a single character that is not an <tt class=string>x</tt>, which includes <tt class=match>ll</tt> in the Spanish POSIX locale.</p> <p>In any other regular expression engine, or in a POSIX engine not using the Spanish locale, <tt class=regex>torti[^x]a</tt> will match the misspelled word <tt class=match>tortila</tt> but will not match <tt class=match>tortilla</tt>, as <tt class=regex>[^x]</tt> cannot match the two characters <tt class=string>ll</tt>.</p> <p>Finally, note that not all regex engines claiming to implement POSIX regular expressions actually have full support for collating sequences. Sometimes, these engines use the regular expression syntax defined by POSIX, but don't have full locale support. You may want to try the above matches to see if the engine you're using does. E.g. <A HREF="tcl.html" TARGET="_top">Tcl's regexp command</A> supports collating sequences, but Tcl only supports the Unicode locale, which does not define any collating sequences. The result is that in Tcl, a collating sequence specifying a single character will match just that character, and all other collating sequences will result in an error.</p> <a name="eq"></a><h2>Character Equivalents</h2> <p>A POSIX locale can define character equivalents that indicate that certain characters should be considered as identical for sorting. E.g. in French, accents are ignored when ordering words. <tt class=string>&eacute;l&egrave;ve</tt> comes before <tt class=string>&ecirc;tre</tt> which comes before <tt class=string>&eacute;v&eacute;nement</tt>. <tt class=string>&eacute;</tt> and <tt class=string>&ecirc;</tt> are all the same as <tt class=string>e</tt>, but <tt class=string>l</tt> comes before <tt class=string>t</tt> which comes before <tt class=string>v</tt>. With the locale set to French, a POSIX-compliant regular expression engine will match <tt class=match>e</tt>, <tt class=match>&eacute;</tt>, <tt class=match>&egrave;</tt> and <tt class=match>&ecirc;</tt> when you use the collating sequence <tt>[=e=]</tt> in the bracket expression <tt class=regex>[[=e=]]</tt>.</p> <p>If a character does not have any equivalents, the character equivalence token simply reverts to the character itself. E.g. <tt class=regex>[[=x=][=z=]]</tt> is the same as <tt class=regex>[xz]</tt> in the French locale.</p> <p>Like collating sequences, POSIX character equivalents are not available in any regex engine that I know of, other than those following the POSIX standard. And those that do may not have the necessary POSIX locale support. Here too <A HREF="tcl.html" TARGET="_top">Tcl's regexp command</A> supports character equivalents, but Unicode locale, the only one Tcl supports, does not define any character equivalents. This effectively means that <tt class=regex>[[=x=]]</tt> and <tt class=regex>[x]</tt> are exactly the same in Tcl, and will only match <tt class=match>x</tt>, for any character you may try instead of "x".</p><h2>Make a Donation</h2>
<p>Did this website just save you a trip to the bookstore?  Please <a href="donate.html">make a donation</a> to support this site, and you'll get a lifetime of advertisement-free access to this site!</p>
<DIV id=copyright>
<P CLASS=copyright>Page URL: <A HREF="posixbrackets.html" TARGET="_top">http://www.Regular-Expressions.info/posixbrackets.html</A><BR>
Page last updated: 21 April 2010<BR>
Site last updated: 17 June 2013<BR>
Copyright &copy; 2003-2013 Jan Goyvaerts. All rights reserved.</P>
</DIV> 

<script type="text/javascript"><!--
var google_conversion_id = 1072547447; var google_conversion_language = "en"; var google_conversion_format = "3"; var google_conversion_color = "666666"; var google_conversion_label = "sqPQCInO3QEQ94y3_wM"; var google_conversion_value = 0;
//-->
</script>
<script type="text/javascript" src="http://www.googleadservices.com/pagead/conversion.js"></script>
<noscript>
<div style="display:inline;">
<img height="1" width="1" style="border-style:none;" alt="" src="http://www.googleadservices.com/pagead/conversion/1072547447/?label=sqPQCInO3QEQ94y3_wM&amp;guid=ON&amp;script=0"/>
</div>
</noscript>
</DIV> 
<DIV id=side><script type="text/javascript">movecontent();</script><TABLE CLASS=side CELLSPACING=0 CELLPADDING=4><TR><TD CLASS=sideheader>Regex Tutorial</TD></TR><TR><TD><A HREF="tutorial.html" TARGET=_top>Introduction</A></TD></TR><TR><TD><A HREF="tutorialcnt.html" TARGET=_top>Table&nbsp;of&nbsp;Contents</A></TD></TR><TR><TD><A HREF="characters.html" TARGET=_top>Characters</A></TD></TR><TR><TD><A HREF="engine.html" TARGET=_top>Regex&nbsp;Engine&nbsp;Internals</A></TD></TR><TR><TD><A HREF="charclass.html" TARGET=_top>Character&nbsp;Classes</A></TD></TR><TR><TD><A HREF="dot.html" TARGET=_top>Dot</A></TD></TR><TR><TD><A HREF="anchors.html" TARGET=_top>Anchors</A></TD></TR><TR><TD><A HREF="wordboundaries.html" TARGET=_top>Word&nbsp;Boundaries</A></TD></TR><TR><TD><A HREF="alternation.html" TARGET=_top>Alternation</A></TD></TR><TR><TD><A HREF="optional.html" TARGET=_top>Optional&nbsp;Items</A></TD></TR><TR><TD><A HREF="repeat.html" TARGET=_top>Repetition</A></TD></TR><TR><TD><A HREF="brackets.html" TARGET=_top>Grouping&nbsp;&amp;&nbsp;Backreferences</A></TD></TR><TR><TD><A HREF="named.html" TARGET=_top>Named&nbsp;Groups</A></TD></TR><TR><TD><A HREF="unicode.html" TARGET=_top>Unicode</A></TD></TR><TR><TD><A HREF="modifiers.html" TARGET=_top>Modifiers</A></TD></TR><TR><TD><A HREF="possessive.html" TARGET=_top>Possessive&nbsp;Quantifiers</A></TD></TR><TR><TD><A HREF="atomic.html" TARGET=_top>Atomic&nbsp;Grouping</A></TD></TR><TR><TD><A HREF="lookaround.html" TARGET=_top>Lookahead&nbsp;&amp;&nbsp;Lookbehind</A></TD></TR><TR><TD><A HREF="lookaround2.html" TARGET=_top>Lookaround,&nbsp;part&nbsp;2</A></TD></TR><TR><TD><A HREF="continue.html" TARGET=_top>Continuing&nbsp;Matches</A></TD></TR><TR><TD><A HREF="conditional.html" TARGET=_top>Conditionals</A></TD></TR><TR><TD><A HREF="xmlcharclass.html" TARGET=_top>XML&nbsp;Character&nbsp;Classes</A></TD></TR><TR><TD><A HREF="posixbrackets.html" TARGET=_top>POSIX&nbsp;Bracket&nbsp;Expressions</A></TD></TR><TR><TD><A HREF="comments.html" TARGET=_top>Comments</A></TD></TR><TR><TD><A HREF="freespacing.html" TARGET=_top>Free-Spacing</A></TD></TR>
</TABLE><TABLE CLASS=side CELLSPACING=0 CELLPADDING=4><TR><TD CLASS=sideheader>More Information</TD></TR><TR><TD><A HREF="index.html" TARGET=_top>Introduction</A></TD></TR><TR><TD><A HREF="quickstart.html" TARGET=_top>Quick&nbsp;Start</A></TD></TR><TR><TD><A HREF="tutorial.html" TARGET=_top>Tutorial</A></TD></TR><TR><TD><A HREF="tools.html" TARGET=_top>Tools&nbsp;and&nbsp;Languages</A></TD></TR><TR><TD><A HREF="examples.html" TARGET=_top>Examples</A></TD></TR><TR><TD><A HREF="books.html" TARGET=_top>Books</A></TD></TR><TR><TD><A HREF="reference.html" TARGET=_top>Reference</A></TD></TR><TR><TD><A HREF="print.html" TARGET=_top>Print&nbsp;PDF</A></TD></TR><TR><TD><A HREF="about.html" TARGET=_top>About&nbsp;This&nbsp;Site</A></TD></TR><TR><TD><A HREF="updates.html" TARGET=_top>RSS&nbsp;Feed&nbsp;&amp;&nbsp;Blog</A></TD></TR></TABLE><div>
<script type="text/javascript"><!--
google_ad_client = "pub-7485249680256358";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
google_color_border = "FF6600";
google_color_bg = "FFF4E8";
google_color_link = "0000FF";
google_color_text = "000000";
google_color_url = "803300";
google_ui_features = "rc:0";
//-->
</script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div><P>&nbsp;</P> <TABLE CLASS=sidead CELLSPACING=0 CELLPADDING=4> <TR><TD CLASS=sideheader>PowerGREP 4</TD></TR> <TR><TD CLASS=ad><A HREF="http://www.powergrep.com/" TARGET=_top><IMG SRC="img/pgr.gif" WIDTH=32 HEIGHT=32 ALT="PowerGREP" ALIGN=LEFT CLASS=iconleft BORDER=0></A> <A HREF="http://www.powergrep.com/" TARGET=_top>PowerGREP</A> is probably the most powerful regex-based text processing tool available today. A knowledge worker's Swiss army knife for searching through, extracting information from, and updating piles of files.</TD></TR> <TR><TD CLASS=ad>Use regular expressions to search through large numbers of text and binary files. Quickly find the files you are looking for, or extract the information you need. Look through just a handful of files or folders, or scan entire drives and network shares.</TD></TR> <TR><TD CLASS=ad>Search and replace using text, binary data or one or more regular expressions to automate repetitive editing tasks. Preview replacements before modifying files, and stay safe with flexible backup and undo options.</TD></TR> <TR><TD CLASS=ad>Use regular expressions to rename files, copy files, or merge and split the contents of files. Work with plain text files, Unicode files, binary files, compressed files, and files in proprietary formats such as MS Office, OpenOffice, and PDF. Runs on Windows 2000, XP, Vista, 7, and 8.</TD></TR> <TR><TD><A HREF="http://www.powergrep.com/" TARGET=_top>More information</A></TD></TR> <TR><TD><A HREF="http://www.powergrep.com/download.html" TARGET=_top>Download PowerGREP now</A></TD></TR> </TABLE></DIV><script type="text/javascript">movecontent();</script></BODY></HTML>